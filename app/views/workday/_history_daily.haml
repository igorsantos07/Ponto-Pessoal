-days = ['Seg','Ter','Qua','Qui','Sex']

%table.history.daily
  %thead
    %tr
      %th
      %th Entrada
      %th Almoço
      %th Saída
      %th Saldo
      %th Balanço
  %tbody
    -week_balance = {:hour => 0, :min => 0}
    -5.times do |d|
      -day = @this_week[d]
      -week_balance[:hour] += day.balance[:hour]
      -week_balance[:min] += day.balance[:min]
      -if week_balance[:min] >= 60
        -week_balance[:hour] += 1
        -week_balance[:min] -= 60
      -balance_status = case day.balance[:hour]
        -when 0...8 then :negative
        -#-when 8 then if day.balance[:min] == 0 then :neutral else :positive end
        -else :positive
      %tr
        %th=days[d]
        %td=day[:enter] || '---'
        %td
          -if !day[:go_lunch].nil? && !day[:back_lunch].nil?
            =day[:go_lunch]+' ~ '+day[:back_lunch]
          -else
            ='---'
        %td=day[:out] || '---'
        %td.balance{:class => balance_status}
          =day.balance[:hour].to_s+':'+('%02d' % day.balance[:min].to_s)
        %td.balance{:class => balance_status}
          =week_balance[:hour].to_s+':'+('%02d' % week_balance[:min].to_s)+' / '+(8*(d+1)).to_s+'h'



-#    %tr
-#      %th Sex
-#      %td ---
-#      %td ---
-#      %td ---
-#      %td.balance.future +8h10 / 40h